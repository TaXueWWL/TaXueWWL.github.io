
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>我的编码备忘录 | 朝·闻·道</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="SnoWalker">
    

    <meta name="keywords" content="Java">
    <meta name="description" content="本文将主要记录在日常开发中遇到的各种问题。以技术类别进行章节划分，作为个人的编码备忘录随时进行查阅，并长期进行置顶。
问题排查CPU异常飙高排查思路cpu占用高如何排查

查看占用cpu高的进程: 通过 top  命令找到 CPU 消耗最高的进程，并记住进程 ID {pid}。
top -M -n 2 -d 3 &amp;gt;{pid}/top.txt 查看top


再次通过 top -Hp  {pi">
<meta property="og:type" content="article">
<meta property="og:title" content="我的编码备忘录">
<meta property="og:url" content="http://wuwenliang.net/2019/12/02/我的编码备忘录/index.html">
<meta property="og:site_name" content="朝·闻·道">
<meta property="og:description" content="本文将主要记录在日常开发中遇到的各种问题。以技术类别进行章节划分，作为个人的编码备忘录随时进行查阅，并长期进行置顶。
问题排查CPU异常飙高排查思路cpu占用高如何排查

查看占用cpu高的进程: 通过 top  命令找到 CPU 消耗最高的进程，并记住进程 ID {pid}。
top -M -n 2 -d 3 &amp;gt;{pid}/top.txt 查看top


再次通过 top -Hp  {pi">
<meta property="og:updated_time" content="2020-08-26T01:03:49.014Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="我的编码备忘录">
<meta name="twitter:description" content="本文将主要记录在日常开发中遇到的各种问题。以技术类别进行章节划分，作为个人的编码备忘录随时进行查阅，并长期进行置顶。
问题排查CPU异常飙高排查思路cpu占用高如何排查

查看占用cpu高的进程: 通过 top  命令找到 CPU 消耗最高的进程，并记住进程 ID {pid}。
top -M -n 2 -d 3 &amp;gt;{pid}/top.txt 查看top


再次通过 top -Hp  {pi">

    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="朝·闻·道" title="朝·闻·道"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="朝·闻·道">朝·闻·道</a></h1>
				<h2 class="blog-motto">SnoWalker&#39;s Blog</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/index.html">主页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/old/index.html">旧版</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:wuwenliang.net">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2019/12/02/我的编码备忘录/" title="我的编码备忘录" itemprop="url">我的编码备忘录</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="SnoWalker" target="_blank" itemprop="author">SnoWalker</a>
		
  <p class="article-time">
    <time datetime="2019-12-02T14:05:27.000Z" itemprop="datePublished"> 发表于 2019-12-02</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#问题排查"><span class="toc-number">1.</span> <span class="toc-text">问题排查</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CPU异常飙高排查思路"><span class="toc-number">1.1.</span> <span class="toc-text">CPU异常飙高排查思路</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaCore相关"><span class="toc-number">2.</span> <span class="toc-text">JavaCore相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#bigdecimal四舍五入"><span class="toc-number">2.1.</span> <span class="toc-text">bigdecimal四舍五入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bigDecimal转换为百分比，保留若干小数"><span class="toc-number">2.2.</span> <span class="toc-text">bigDecimal转换为百分比，保留若干小数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bigDecimal精确度"><span class="toc-number">2.3.</span> <span class="toc-text">bigDecimal精确度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bigDecimal除法"><span class="toc-number">2.4.</span> <span class="toc-text">bigDecimal除法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bigdecimal详解"><span class="toc-number">2.5.</span> <span class="toc-text">bigdecimal详解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#java8的optionnal"><span class="toc-number">2.6.</span> <span class="toc-text">java8的optionnal</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#并发框架"><span class="toc-number">3.</span> <span class="toc-text">并发框架</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#集合框架"><span class="toc-number">4.</span> <span class="toc-text">集合框架</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#如何对一个list进行subList操作"><span class="toc-number">4.1.</span> <span class="toc-text">如何对一个list进行subList操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#集合如何进行排序操作？（如：如何对一个list中的元素进行排序）"><span class="toc-number">4.2.</span> <span class="toc-text">集合如何进行排序操作？（如：如何对一个list中的元素进行排序）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据库相关-包含Dao相关组件"><span class="toc-number">5.</span> <span class="toc-text">数据库相关(包含Dao相关组件)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#mybatis-update自动追加逗号-“-”"><span class="toc-number">5.1.</span> <span class="toc-text">mybatis update自动追加逗号 “,”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mybatis使用truncate语句"><span class="toc-number">5.2.</span> <span class="toc-text">mybatis使用truncate语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mybatis使用-Param传参以及批量插入"><span class="toc-number">5.3.</span> <span class="toc-text">mybatis使用@Param传参以及批量插入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL建表时设置timestamp精度到毫秒"><span class="toc-number">5.4.</span> <span class="toc-text">MySQL建表时设置timestamp精度到毫秒</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mybatis批量插入"><span class="toc-number">5.5.</span> <span class="toc-text">mybatis批量插入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL的case-when语法"><span class="toc-number">5.6.</span> <span class="toc-text">MySQL的case when语法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#前端相关"><span class="toc-number">6.</span> <span class="toc-text">前端相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#vue页面间传参"><span class="toc-number">6.1.</span> <span class="toc-text">vue页面间传参</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue-element获取一行数据"><span class="toc-number">6.2.</span> <span class="toc-text">vue element获取一行数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue-element视频播放组件"><span class="toc-number">6.3.</span> <span class="toc-text">vue element视频播放组件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#工具技巧"><span class="toc-number">7.</span> <span class="toc-text">工具技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#跨主机进行文件复制"><span class="toc-number">7.1.</span> <span class="toc-text">跨主机进行文件复制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#idea自动导包"><span class="toc-number">7.2.</span> <span class="toc-text">idea自动导包</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#打包运行相关"><span class="toc-number">8.</span> <span class="toc-text">打包运行相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#如何通过命令行传递带空格的参数"><span class="toc-number">8.1.</span> <span class="toc-text">如何通过命令行传递带空格的参数?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux下找出进程正在侦听的端口号"><span class="toc-number">8.2.</span> <span class="toc-text">Linux下找出进程正在侦听的端口号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nohup的作用"><span class="toc-number">8.3.</span> <span class="toc-text">nohup的作用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-相关"><span class="toc-number">9.</span> <span class="toc-text">git 相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#git更新带子module的工程"><span class="toc-number">9.1.</span> <span class="toc-text">git更新带子module的工程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git更新子工程终极方案"><span class="toc-number">9.2.</span> <span class="toc-text">git更新子工程终极方案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git-强制使用远程覆盖本地"><span class="toc-number">9.3.</span> <span class="toc-text">git 强制使用远程覆盖本地</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git去除某个历史提交"><span class="toc-number">9.4.</span> <span class="toc-text">git去除某个历史提交</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#方法2–递归方式"><span class="toc-number">10.</span> <span class="toc-text">方法2–递归方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring相关"><span class="toc-number">11.</span> <span class="toc-text">Spring相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring中通过-Value-设置默认值"><span class="toc-number">11.1.</span> <span class="toc-text">Spring中通过 @Value 设置默认值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring中HttpServletRequest的线程安全性"><span class="toc-number">11.2.</span> <span class="toc-text">Spring中HttpServletRequest的线程安全性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SpringBoot-类加载机制"><span class="toc-number">11.3.</span> <span class="toc-text">SpringBoot 类加载机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-Bean生命周期"><span class="toc-number">11.4.</span> <span class="toc-text">Spring Bean生命周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring强化"><span class="toc-number">11.5.</span> <span class="toc-text">Spring强化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Jersey相关"><span class="toc-number">12.</span> <span class="toc-text">Jersey相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Jersey常用方法"><span class="toc-number">12.1.</span> <span class="toc-text">Jersey常用方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查看Jersey-REST服务的WADL服务定义"><span class="toc-number">12.2.</span> <span class="toc-text">查看Jersey REST服务的WADL服务定义</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Json解析相关"><span class="toc-number">13.</span> <span class="toc-text">Json解析相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Jackson整理"><span class="toc-number">13.1.</span> <span class="toc-text">Jackson整理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ffmpeg"><span class="toc-number">14.</span> <span class="toc-text">ffmpeg</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#维护多个sshkey"><span class="toc-number">15.</span> <span class="toc-text">维护多个sshkey</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#具体步骤"><span class="toc-number">15.1.</span> <span class="toc-text">具体步骤</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vim临时显示行号"><span class="toc-number">16.</span> <span class="toc-text">vim临时显示行号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#python相关"><span class="toc-number">17.</span> <span class="toc-text">python相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-init-py的作用"><span class="toc-number">17.1.</span> <span class="toc-text">1. init.py的作用</span></a></li></ol></li></ol>
		
		</div>
		
		<p>本文将主要记录在日常开发中遇到的各种问题。以技术类别进行章节划分，作为个人的编码备忘录随时进行查阅，并长期进行置顶。</p>
<h2 id="问题排查"><a href="#问题排查" class="headerlink" title="问题排查"></a>问题排查</h2><h3 id="CPU异常飙高排查思路"><a href="#CPU异常飙高排查思路" class="headerlink" title="CPU异常飙高排查思路"></a>CPU异常飙高排查思路</h3><p><a href="https://www.cnblogs.com/wanjun-top/p/12613752.html" target="_blank" rel="external">cpu占用高如何排查</a></p>
<ul>
<li>查看占用cpu高的进程: 通过 top  命令找到 CPU 消耗最高的进程，并记住进程 ID {pid}。<blockquote>
<p>top -M -n 2 -d 3 &gt;{pid}/top.txt 查看top</p>
</blockquote>
</li>
<li>再次通过 top -Hp  {pid} 找到 CPU 消耗最高的线程 ID，并记住线程 ID(十进制).</li>
<li>通过 JDK 提供的 jstack 工具 dump 线程堆栈信息到指定文件中。<blockquote>
<p>jstack {pid} &gt;{pid}/jstack_1.txt 一次堆栈快照 备用</p>
<p>jstack {pid} &gt;{pid}/jstack_2.txt 两次堆栈快照 备用</p>
</blockquote>
</li>
<li>由于刚刚的线程 ID 是十进制的，而堆栈信息中的线程 ID 是16进制的，因此我们需要将10进制的转换成16进制的，并用这个线程 ID 在堆栈中查找。<blockquote>
<p>使用 printf “%x\n” [十进制数字] ，可以将10进制转换成16进制。</p>
</blockquote>
</li>
<li>通过刚刚转换的16进制数字从堆栈信息里找到对应的线程堆栈。就可以从该堆栈中看出端倪。</li>
</ul>
<hr>
<ul>
<li>通过top查看当前进程cpu占用情况，找到cpu使用最高的进程PID</li>
<li>查看子进程情况<blockquote>
<p>top -p 4606 -H</p>
</blockquote>
</li>
<li>将 子进程id 转换成16进制<blockquote>
<p>printf “%x \n” 4648       结果为1228</p>
</blockquote>
</li>
<li>使用jstack查询具体出现问题的代码位置<blockquote>
<p> jstack 4606|grep 1228 -C 30</p>
</blockquote>
</li>
<li>根据打印结果定位到具体代码位置</li>
</ul>
<h2 id="JavaCore相关"><a href="#JavaCore相关" class="headerlink" title="JavaCore相关"></a>JavaCore相关</h2><blockquote>
<p>该模块主要记录JavaCore相关的技术点</p>
</blockquote>
<h3 id="bigdecimal四舍五入"><a href="#bigdecimal四舍五入" class="headerlink" title="bigdecimal四舍五入"></a>bigdecimal四舍五入</h3><pre><code>BigDecimal.ROUND_HALF_UP: 遇到.5的情况时往上近似,例: 1.5 -&gt;;2
BigDecimal.ROUND_HALF_DOWN : 遇到.5的情况时往下近似,例: 1.5 -&gt;;1
</code></pre><h3 id="bigDecimal转换为百分比，保留若干小数"><a href="#bigDecimal转换为百分比，保留若干小数" class="headerlink" title="bigDecimal转换为百分比，保留若干小数"></a>bigDecimal转换为百分比，保留若干小数</h3><pre><code>DecimalFormat decimalFormat = new DecimalFormat(&quot;0.00%&quot;);
BigDecimal decimal = new BigDecimal(count.intValue()).divide(new BigDecimal(allCount), 5, ROUND_HALF_UP);
String formatted = decimalFormat.format(sdPercent);
</code></pre><h3 id="bigDecimal精确度"><a href="#bigDecimal精确度" class="headerlink" title="bigDecimal精确度"></a>bigDecimal精确度</h3><pre><code>BigDecimal.setScale(5,  BigDecimal.ROUND_HALF_UP)  --&gt;保留五位小数,最后一位遇到.5的情况时往上近似
</code></pre><a id="more"></a>
<h3 id="bigDecimal除法"><a href="#bigDecimal除法" class="headerlink" title="bigDecimal除法"></a>bigDecimal除法</h3><ol>
<li>Java的BigDecimal在使用除法（divide方法）时，应该手动指定精度和舍入的方式。</li>
<li>如果不指定精度和舍入方式，在除不尽的时候会报异常。</li>
</ol>
<h3 id="bigdecimal详解"><a href="#bigdecimal详解" class="headerlink" title="bigdecimal详解"></a>bigdecimal详解</h3><p>这里直接参考别人的文章：</p>
<p>(BigDecimal的用法详解)[<a href="https://www.cnblogs.com/jpfss/p/8072379.html" target="_blank" rel="external">https://www.cnblogs.com/jpfss/p/8072379.html</a>]</p>
<h3 id="java8的optionnal"><a href="#java8的optionnal" class="headerlink" title="java8的optionnal"></a>java8的optionnal</h3><p><a href="https://www.cnblogs.com/zhangboyu/p/7580262.html" target="_blank" rel="external">理解、学习与使用 JAVA 中的 OPTIONAL</a></p>
<p>举个例子：</p>
<pre><code>public static void main(String[] args) {
    Double d = 2.2;
    Optional.ofNullable(d).ifPresent(a -&gt; {
        System.out.println(a);
    });
    Double a = null;
    System.out.println(Optional.ofNullable(a).orElse(2.2));
}

ofNullable：如果对象即可能是 null 也可能是非 null，你就应该使用 ofNullable() 方法：不会抛出NullPointerException

ifPresent：检查是否有值的。该方法除了执行检查，还接受一个Consumer(消费者) 参数，如果对象不是空的，就对执行传入的 Lambda 表达式：

orElse：如果有值则返回该值，否则返回传递给它的参数值
</code></pre><h2 id="并发框架"><a href="#并发框架" class="headerlink" title="并发框架"></a>并发框架</h2><blockquote>
<p>这部分主要讲并发框架相关</p>
</blockquote>
<ol>
<li>CompletableFuture用法</li>
</ol>
<p>CompletableFuture需要单独总结，这里直接放一个参考链接。 <a href="https://www.jianshu.com/p/6bac52527ca4" target="_blank" rel="external">CompletableFuture 使用详解</a></p>
<ol>
<li>Java线程池拒绝策略</li>
</ol>
<p><a href="https://blog.csdn.net/zuochao_2013/article/details/81511664" target="_blank" rel="external">Java线程池的拒绝策略</a></p>
<p><a href="https://blog.csdn.net/w605283073/article/details/89930154" target="_blank" rel="external">Java ThreadPoolExecutor的拒绝策略</a></p>
<ol>
<li>SimpleDateFormat为何线程不安全？</li>
</ol>
<p><a href="https://www.jianshu.com/p/5a7a88e62309" target="_blank" rel="external">SimpleDateFormat线程不安全问题与ThreadLocal原理</a></p>
<h2 id="集合框架"><a href="#集合框架" class="headerlink" title="集合框架"></a>集合框架</h2><blockquote>
<p>本模块主要记录集合相关的问题</p>
</blockquote>
<h3 id="如何对一个list进行subList操作"><a href="#如何对一个list进行subList操作" class="headerlink" title="如何对一个list进行subList操作"></a>如何对一个list进行subList操作</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">List&lt;Object&gt; list = new Arraylist&lt;&gt;();</div><div class="line">List&lt;Object&gt; subList = list.subList(0, 5);</div><div class="line">其中subList(0, 5)取得的是下标为0到4的元素,不包含下标为5的元素.</div></pre></td></tr></table></figure>
<p>注意：subList看起来好像是取出了原list的子list，实际上仅仅是取到原list的引用。</p>
<blockquote>
<p>subList方法的返回值，只是ArrayList的一个映像而已。</p>
</blockquote>
<p>也就是说，当我们使用子集合subList进行元素的修改操作时，会影响原有的list集合。</p>
<p>如果要生成原有list的子集合，还是采用硬复制的方式比较好，也就是新建一个新的list，对原list集合进行解析后装载到新的list中。</p>
<h3 id="集合如何进行排序操作？（如：如何对一个list中的元素进行排序）"><a href="#集合如何进行排序操作？（如：如何对一个list中的元素进行排序）" class="headerlink" title="集合如何进行排序操作？（如：如何对一个list中的元素进行排序）"></a>集合如何进行排序操作？（如：如何对一个list中的元素进行排序）</h3><p>集合排序，一般有三种方法。</p>
<blockquote>
<p>利用集合框架提供的Collections.sort实现排序，待进行排序的实体需要实现比较器Comparable接口的compareTo方法。</p>
</blockquote>
<p>返回当前入参的实体和this对象的属性差（该属性为排序依据），</p>
<pre><code>属性差如果为负数表示当前入参比本身小，

属性差如果为0表示当前入参与本身相等，

属性差如果为正数表示当前入参比本身大，
</code></pre><p>最后调用Collections.sort(temp);返回的集合排序方式为自然排序。</p>
<blockquote>
<p>通过调用 <strong>Collections.sort(List<t> list, Comparator&lt;? super T&gt; c)</t></strong> 方法，传入Comparator实现，这种方式下，实体不需要实现Comparable接口。</p>
<p>对于JDK1.8，可以通过stream流实现排序，对象本身不需要实现Comparable接口，示例代码如下</p>
</blockquote>
<pre><code>//3.利用Java8的stream流和Comparator实现集合排序
list = list.stream().sorted(Comparator.comparing(Person::getAge)).collect(Collectors.toList());
</code></pre><h2 id="数据库相关-包含Dao相关组件"><a href="#数据库相关-包含Dao相关组件" class="headerlink" title="数据库相关(包含Dao相关组件)"></a>数据库相关(包含Dao相关组件)</h2><blockquote>
<p>本章节主要记录数据库相关的技术点，包含Dao相关组件的使用，如JPA、Mybatis等</p>
</blockquote>
<h3 id="mybatis-update自动追加逗号-“-”"><a href="#mybatis-update自动追加逗号-“-”" class="headerlink" title="mybatis update自动追加逗号 “,”"></a>mybatis update自动追加逗号 “,”</h3><p>一个推荐的SQL如下：</p>
<pre><code>&lt;update id=&quot;updateOne&quot;  parameterType=&quot;com.inspur.search.data.EntityRelation&quot;&gt;
    UPDATE ENTITY_RELATION
        &lt;trim prefix=&quot;set&quot; suffixOverrides=&quot;,&quot;&gt;
        &lt;if test=&quot;srcId!=null&quot;&gt;SRC_ID=#{srcId},&lt;/if&gt;
        &lt;if test=&quot;srcType!=null&quot;&gt;SRC_TYPE=#{srcType},&lt;/if&gt;
        &lt;if test=&quot;destId!=null&quot;&gt;DEST_ID=#{destId},&lt;/if&gt;
        &lt;if test=&quot;destType!=null&quot;&gt;DEST_TYPE=#{destType},&lt;/if&gt;
        &lt;if test=&quot;relType!=null&quot;&gt;REL_TYPE=#{relType},&lt;/if&gt;
        &lt;if test=&quot;status!=null&quot;&gt;STATUS=#{status},&lt;/if&gt;
        &lt;if test=&quot;snId!=null&quot;&gt;SN_ID=#{snId},&lt;/if&gt;
        &lt;/trim&gt;
    WHERE id=#{id}
&lt;/update&gt;
</code></pre><p>这种方式是动态SQL拼接，使用trim是为了删掉最后字段的“,”</p>
<p>不用单独写SET了，因为set被包含在trim中了</p>
<h3 id="mybatis使用truncate语句"><a href="#mybatis使用truncate语句" class="headerlink" title="mybatis使用truncate语句"></a>mybatis使用truncate语句</h3><p>在mybatis中使用truncate语句刷新表。</p>
<pre><code>&lt;update id=&quot;truncateTable&quot;&gt;
    truncate table [表名]
&lt;/update&gt;
</code></pre><h3 id="mybatis使用-Param传参以及批量插入"><a href="#mybatis使用-Param传参以及批量插入" class="headerlink" title="mybatis使用@Param传参以及批量插入"></a>mybatis使用@Param传参以及批量插入</h3><blockquote>
<p>@Param Parameter N/A 如果你的映射器的方法需要多个参数, 这个注解可以被应用于映射器的方法参数来给每个参数一个名字。否则,多参数将会以它们的顺序位置来被命名 (不包括任何 RowBounds 参数) 比如。 #{param1} , #{param2} 等 , 这是默认的。 </p>
<p>如果使用 @Param(“person”), 则参数应该被命名为 #{person}。</p>
</blockquote>
<p>这里重点总结一个场景，批量insert。对应sql如下：</p>
<pre><code>&lt;insert id=&quot;batchInsertIdList&quot; parameterType=&quot;java.util.List&quot;&gt;
    insert into idlist_tmp (id, record_date) values
    &lt;foreach collection=&quot;tmpInfos&quot; item=&quot;tmpInfo&quot; separator=&quot;,&quot;&gt;
        (#{tmpInfo.id}, #{tmpInfo.recordDate})
    &lt;/foreach&gt;
&lt;/insert&gt;
</code></pre><p>这里通过#{tmpInfo.id}指定insert参数为对象tmpInfo的某个属性</p>
<pre><code>int batchInsert(@Param(value = &quot;tmpInfos&quot;) List&lt;TmpInfo&gt; tmpInfos);
</code></pre><p>这里通过@Param指定insert的sql中的参数引用。</p>
<h3 id="MySQL建表时设置timestamp精度到毫秒"><a href="#MySQL建表时设置timestamp精度到毫秒" class="headerlink" title="MySQL建表时设置timestamp精度到毫秒"></a>MySQL建表时设置timestamp精度到毫秒</h3><pre><code>CREATE TABLE `table1` (
`tab1_id` VARCHAR(11) DEFAULT NULL,
`create` TIMESTAMP(3) NULL DEFAULT NULL,
`create2` DATETIME(3) DEFAULT NULL
) ENGINE=INNODB DEFAULT CHARSET=utf8
</code></pre><p>设置精度的方式为：</p>
<pre><code>TIMESTAMP(3)与 DATETIME(3)意思是保留3位毫秒数

TIMESTAMP(6)与 DATETIME(6)意思是保留6位毫秒数
</code></pre><p>修改字段精度的方式为：</p>
<pre><code>ALTER TABLE tb_financial MODIFY CREATE_TIME DATETIME(3) DEFAULT NULL COMMENT &apos;录入时间&apos;;
</code></pre><p>插入日期可以用NOW(3)来控制精确的毫秒数，如：SELECT CURRENT_TIMESTAMP(3);也是可以的</p>
<h3 id="mybatis批量插入"><a href="#mybatis批量插入" class="headerlink" title="mybatis批量插入"></a>mybatis批量插入</h3><p><a href="https://www.jianshu.com/p/c3c890e17e4c" target="_blank" rel="external">mybatis 批量插入数据</a></p>
<p><a href="https://www.cnblogs.com/shuaifing/p/9327465.html" target="_blank" rel="external">mybatis批量保存的两种方式(高效插入)</a></p>
<h3 id="MySQL的case-when语法"><a href="#MySQL的case-when语法" class="headerlink" title="MySQL的case when语法"></a>MySQL的case when语法</h3><p>语法如下：</p>
<pre><code>select 字段1, 字段2,       
    case 字段3     
    when 值1 then 新值       
    when 值2 then 新值      
    end as 重新命名字段3的名字       
from table      
where ……      
order by ……  
</code></pre><p>如：</p>
<pre><code>SELECT
    m.id AS id0,
    v.id AS id1,
    v.user_id AS userId,
    v.app_id AS appId
    (
    CASE
            WHEN v.label = 0 THEN
            &apos;清晰&apos; 
            WHEN v.label = 1 THEN
            &apos;模糊&apos; 
            WHEN v.label = 2 THEN
            &apos;超清晰&apos; ELSE &apos;其他&apos; 
        END 
        ) AS &apos;清晰度&apos;
    FROM
        video_info v,
        media_info m 
    WHERE
        v.id = m.id 
        AND m.id IN (
            &apos;123123&apos;,
            &apos;123124&apos;,
            &apos;123125&apos;
        )
</code></pre><p>参考资料: <a href="https://blog.csdn.net/helloxiaozhe/article/details/78124138" target="_blank" rel="external">MySQL 的CASE WHEN 语句使用说明</a>    </p>
<h2 id="前端相关"><a href="#前端相关" class="headerlink" title="前端相关"></a>前端相关</h2><blockquote>
<p>人生苦短，不会点儿前端都没法儿混了。不喜欢也得会写点儿啊…</p>
</blockquote>
<h3 id="vue页面间传参"><a href="#vue页面间传参" class="headerlink" title="vue页面间传参"></a>vue页面间传参</h3><p>来自：<a href="https://blog.csdn.net/qq_29918313/article/details/82862548" target="_blank" rel="external">https://blog.csdn.net/qq_29918313/article/details/82862548</a></p>
<blockquote>
<p>A页面带着参数传给B页面，B页面带着该参数请求接口或者有其他用途</p>
</blockquote>
<p>A页面：</p>
<pre><code>/* 编辑 */
handleEdit (aa) {
let params = {
    aaId: aa.aaId
}
this.$router.push({
    path: &apos;/bb/edit&apos;,
    name: &apos;Edit&apos;,
    params: params
})
},
</code></pre><p>B页面：</p>
<p>首先要接收A页面传递过来的参数：</p>
<pre><code>let aaId = this.$route.params.aaId
</code></pre><p>接收方式就是代码中使用的this.$route.params.aaId。B页面中需要带着aaId请求数据，则直接使用即可。另外，跳转页面使用this.$router.push({})。</p>
<h3 id="vue-element获取一行数据"><a href="#vue-element获取一行数据" class="headerlink" title="vue element获取一行数据"></a>vue element获取一行数据</h3><p>来自： <a href="https://blog.csdn.net/qq_33616027/article/details/90411872" target="_blank" rel="external">https://blog.csdn.net/qq_33616027/article/details/90411872</a></p>
<blockquote>
<p>使用slot-scope获取数据</p>
</blockquote>
<pre><code>在操作列，对操作按钮先用带有slot-scope属性的dom进行包装，即可获取当前行的数据，
具体的代码，除了操作列不同外，还需要删除el-table标签中绑定的*@row-click*方法，
剩下的都一样：

&lt;el-table-column label=&quot;操作尝试2&quot;&gt;
    &lt;template slot-scope=&quot;scope&quot;&gt;
        &lt;el-button type=&quot;text&quot; @click=&quot;checkDetail(scope.row)&quot;&gt;查看详情&lt;/el-button&gt;
    &lt;/template&gt;
&lt;/el-table-column&gt;
&lt;script&gt;
export default {
        name: &quot;dengmiQuery&quot;,
        data() {
            return {
                modifyForm:{
                    formLabelWidth:&apos;120px&apos;,
                    mimian:&apos;&apos;,
                    mimu:&apos;&apos;
                },
                dengmiQueryForm: {
                    dialogVisible: false,
                    list: [],
                }
            };
        },
        methods: {
            checkDetail(val){
                console.log(val)
            }

        }
    }
&lt;/script&gt;
</code></pre><blockquote>
<p>通过<strong>template slot-scope=“scope”</strong>来定义当前行的数据对象，然后通过scope.row来获取当前行的数据。</p>
</blockquote>
<h3 id="vue-element视频播放组件"><a href="#vue-element视频播放组件" class="headerlink" title="vue element视频播放组件"></a>vue element视频播放组件</h3><p>来自：<a href="https://blog.csdn.net/abelethan/article/details/89016678" target="_blank" rel="external">https://blog.csdn.net/abelethan/article/details/89016678</a></p>
<blockquote>
<p>搞视频相关业务的一定会接触播放组件</p>
</blockquote>
<p>使用  vue-vedio-player</p>
<ul>
<li><p>首先我们先安装这个插件</p>
<pre><code>npm install vue-video-player -s
</code></pre></li>
<li><p>我们需要在main.js里面导入并引用</p>
<pre><code>import VideoPlayer from &apos;vue-video-player&apos;
import &apos;vue-video-player/src/custom-theme.css&apos;
import &apos;video.js/dist/video-js.css&apos;

Vue.use(VideoPlayer)
</code></pre></li>
<li><p>html部分</p>
<pre><code>&lt;template&gt;
    &lt;div class=&apos;demo&apos;&gt;
        &lt;video-player class=&quot;video-player vjs-custom-skin&quot;
                    ref=&quot;videoPlayer&quot;
                    :playsinline=&quot;true&quot;
                    :options=&quot;playerOptions&quot;&gt;
        &lt;/video-player&gt;
    &lt;/div&gt;
&lt;/template&gt;
</code></pre></li>
<li><p>js部分</p>
<pre><code>&lt;script&gt;
    export default {
        data() {
            return {
                playerOptions: {
                    //播放速度
                    playbackRates: [0.5, 1.0, 1.5, 2.0], 
                    //如果true,浏览器准备好时开始回放。
                    autoplay: false, 
                    // 默认情况下将会消除任何音频。
                    muted: false, 
                    // 导致视频一结束就重新开始。
                    loop: false, 
                    // 建议浏览器在&lt;video&gt;加载元素后是否应该开始下载视频数据。auto浏览器选择最佳行为,立即开始加载视频（如果浏览器支持）
                    preload: &apos;auto&apos;, 
                    language: &apos;zh-CN&apos;,
                    // 将播放器置于流畅模式，并在计算播放器的动态大小时使用该值。值应该代表一个比例 - 用冒号分隔的两个数字（例如&quot;16:9&quot;或&quot;4:3&quot;）
                    aspectRatio: &apos;16:9&apos;,
                    // 当true时，Video.js player将拥有流体大小。换句话说，它将按比例缩放以适应其容器。
                    fluid: true,
                    sources: [{
                        //类型
                        type: &quot;video/mp4&quot;,
                        //url地址
                        src: &apos;&apos; 
                    }],
                    //你的封面地址
                    poster: &apos;&apos;, 
                    //允许覆盖Video.js无法播放媒体源时显示的默认信息。
                    notSupportedMessage: &apos;此视频暂无法播放，请稍后再试&apos;,
                    controlBar: {
                        timeDivider: true,
                        durationDisplay: true,
                        remainingTimeDisplay: false,
                        //全屏按钮
                        fullscreenToggle: true  
                    }
                }

            }
        }
    }
&lt;/script&gt;
</code></pre></li>
<li><p>style部分</p>
<pre><code>&lt;style scoped&gt;
.demo{
    display: inline-block;
    width: 600px;
    height: 338px;
    text-align: center;
    line-height: 100px;
    border: 1px solid transparent;
    border-radius: 4px;
    overflow: hidden;
    background: #fff;
    position: relative;
    box-shadow: 0 1px 1px rgba(0, 0, 0, .2);
    margin-right: 4px;
}

.demo:hover{
    display: block;
}
&lt;/style&gt;
</code></pre></li>
</ul>
<h2 id="工具技巧"><a href="#工具技巧" class="headerlink" title="工具技巧"></a>工具技巧</h2><blockquote>
<p>本章节主要记录各种工具使用的技巧，如IDEA GIT等</p>
</blockquote>
<h3 id="跨主机进行文件复制"><a href="#跨主机进行文件复制" class="headerlink" title="跨主机进行文件复制"></a>跨主机进行文件复制</h3><p><a href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/scp.html" target="_blank" rel="external">参考链接</a></p>
<blockquote>
<p>从本地服务器复制到远程服务器</p>
</blockquote>
<p>复制文件:</p>
<pre><code>$scp local_file remote_username@remote_ip:remote_folder
$scp local_file remote_username@remote_ip:remote_file
$scp local_file remote_ip:remote_folder
$scp local_file remote_ip:remote_file
指定了用户名，命令执行后需要输入用户密码；如果不指定用户名，命令执行后需要输入用户名和密码；
</code></pre><p>复制目录:</p>
<pre><code>$scp -r local_folder remote_username@remote_ip:remote_folder
$scp -r local_folder remote_ip:remote_folder
第1个指定了用户名，命令执行后需要输入用户密码； 第2个没有指定用户名，命令执行后需要输入用户名和密码；
</code></pre><p>注解</p>
<blockquote>
<p>从远程复制到本地的scp命令与上面的命令一样，只要将从本地复制到远程的命令后面2个参数互换顺序就行了。</p>
</blockquote>
<p>使用示例</p>
<p>实例1：从远处复制文件到本地目录</p>
<pre><code>$scp root@10.6.159.147:/opt/soft/demo.tar /opt/soft/
说明： 从10.6.159.147机器上的/opt/soft/的目录中下载demo.tar 文件到本地/opt/soft/目录中
</code></pre><p>实例2：从远处复制到本地</p>
<pre><code>$scp -r root@10.6.159.147:/opt/soft/test /opt/soft/
说明： 从10.6.159.147机器上的/opt/soft/中下载test目录到本地的/opt/soft/目录来。
</code></pre><p>实例3：上传本地文件到远程机器指定目录</p>
<pre><code>$scp /opt/soft/demo.tar root@10.6.159.147:/opt/soft/scptest
说明： 复制本地opt/soft/目录下的文件demo.tar 到远程机器10.6.159.147的opt/soft/scptest目录
</code></pre><p>实例4：上传本地目录到远程机器指定目录</p>
<pre><code>$scp -r /opt/soft/test root@10.6.159.147:/opt/soft/scptest
说明： 上传本地目录 /opt/soft/test到远程机器10.6.159.147上/opt/soft/scptest的目录中
</code></pre><h3 id="idea自动导包"><a href="#idea自动导包" class="headerlink" title="idea自动导包"></a>idea自动导包</h3><pre><code>IDEA自动导包配置方式如下：

在菜单中选择如下选项：
 Settings→
    Editor→
        General→
            Auto Import 
然后勾选Add unambiguous imports on the fly以及Optimize imports on the fly
</code></pre><p>解释一下含义：</p>
<pre><code>Add unambiguous imports on the fly：        快速添加明确的导入。
Optimize imports on the fly：               快速优化导入，优化的意思即自动帮助删除无用的导入。
</code></pre><h2 id="打包运行相关"><a href="#打包运行相关" class="headerlink" title="打包运行相关"></a>打包运行相关</h2><blockquote>
<p>本章节主要记录打包相关的问题</p>
</blockquote>
<h3 id="如何通过命令行传递带空格的参数"><a href="#如何通过命令行传递带空格的参数" class="headerlink" title="如何通过命令行传递带空格的参数?"></a>如何通过命令行传递带空格的参数?</h3><p>通过参数引用即可解决该问题，在UNIX环境下，通过引号将带空格的参数括起来即可，如：</p>
<pre><code>$ java PrintFileSizes &quot;/home/steve/Test File.txt&quot;
</code></pre><h3 id="Linux下找出进程正在侦听的端口号"><a href="#Linux下找出进程正在侦听的端口号" class="headerlink" title="Linux下找出进程正在侦听的端口号"></a>Linux下找出进程正在侦听的端口号</h3><p>在Linux下快速查到正在侦听的端口号，命令如下：</p>
<pre><code># 安装工具包，默认已安装，centos下为yum install
sudo apt install net-tools
# 查看侦听中的端口
sudo netstat -ltnp
</code></pre><h3 id="nohup的作用"><a href="#nohup的作用" class="headerlink" title="nohup的作用"></a>nohup的作用</h3><p>举个例子，有启动命令如下</p>
<pre><code>nohup java -jar XXX.jar &gt; /dev/null 2&gt;&amp;1 &amp; 
</code></pre><p>nohup表示：不挂断运行命令,当账户退出或终端关闭时,程序仍然运行。</p>
<p>/dev/null 是一个特殊的文件，写入到它的内容都会被丢弃；这里表示”禁止输出”。我们应当在程序内配置日志打印。</p>
<p>其他用法：<a href="https://blog.csdn.net/wngpenghao/article/details/83022185" target="_blank" rel="external">linux环境下nohup的执行jar</a></p>
<h2 id="git-相关"><a href="#git-相关" class="headerlink" title="git 相关"></a>git 相关</h2><blockquote>
<p>本模块主要整理git相关操作</p>
</blockquote>
<h3 id="git更新带子module的工程"><a href="#git更新带子module的工程" class="headerlink" title="git更新带子module的工程"></a>git更新带子module的工程</h3><ol>
<li><p>首先克隆父工程</p>
<pre><code>git clone ssh://xxxxxx.git

查看子模块

git submodule

子模块前面有一个-，说明子模块文件还未检入（空文件夹）。
</code></pre></li>
<li><p>然后在父工程根路径下初始化子工程</p>
<pre><code>git submodule init

初始化模块只需在克隆父项目后运行一次。
</code></pre></li>
<li><p>更新子工程</p>
<pre><code>git submodule update
</code></pre></li>
</ol>
<h3 id="git更新子工程终极方案"><a href="#git更新子工程终极方案" class="headerlink" title="git更新子工程终极方案"></a>git更新子工程终极方案</h3><pre><code>cd  project　（自己工程目录根目录）
cd  submodule-project （依赖的子工程根路径）
git pull origin branch  （拉取子工程最新提交）
cd  “your-project-root-path”  （进入你自己工程的根目录）
git commit -m &apos;upgrade model&apos; &amp;&amp; git push -u origin your-branch （生成一个提交并push）
</code></pre><p>这样服务端的子工程也就随之发生更新</p>
<h3 id="git-强制使用远程覆盖本地"><a href="#git-强制使用远程覆盖本地" class="headerlink" title="git 强制使用远程覆盖本地"></a>git 强制使用远程覆盖本地</h3><pre><code>git fetch --all &amp;&amp; git reset --hard dev&amp;&amp; git pull
</code></pre><h3 id="git去除某个历史提交"><a href="#git去除某个历史提交" class="headerlink" title="git去除某个历史提交"></a>git去除某个历史提交</h3><p>首先获取git提交记录的commitId</p>
<pre><code>git rebase -i 20624e607934da393719a0a046c27a4be32944f1
</code></pre><p>skip更新为drop或者删除掉</p>
<pre><code>git push origin master --force
</code></pre><h2 id="方法2–递归方式"><a href="#方法2–递归方式" class="headerlink" title="方法2–递归方式"></a>方法2–递归方式</h2><p>递归克隆整个项目</p>
<pre><code>git clone ssh://xxxx.git assets --recursive 
</code></pre><p>递归克隆整个项目，子模块已经同时更新了，一步到位。</p>
<h2 id="Spring相关"><a href="#Spring相关" class="headerlink" title="Spring相关"></a>Spring相关</h2><blockquote>
<p>这部分主要整理Spring框架相关的问题，包括SpringBoot</p>
</blockquote>
<h3 id="Spring中通过-Value-设置默认值"><a href="#Spring中通过-Value-设置默认值" class="headerlink" title="Spring中通过 @Value 设置默认值"></a>Spring中通过 @Value 设置默认值</h3><pre><code>1.1 字符串类型的属性设置默认值

    @Value(&quot;${some.key:my default value}&quot;)
    private String stringWithDefaultValue;

    如果默认值设为空，也将会被设置成默认值。

    @Value(&quot;${some.key:}&quot;)
    private String stringWithBlankDefaultValue;

1.2 基本类型设置默认值

    布尔类型
    @Value(&quot;${some.key:true}&quot;)
    private boolean booleanWithDefaultValue;

    数字类型
    @Value(&quot;${some.key:42}&quot;)
    private int intWithDefaultValue;

1.3 包装类型设置默认值

    布尔类型
    @Value(&quot;${some.key:true}&quot;)
    private Boolean booleanWithDefaultValue;

    数字类型
    @Value(&quot;${some.key:42}&quot;)
    private Integer intWithDefaultValue;

1.4 数组的默认值使用逗号分割

    @Value(&quot;${some.key:one,two,three}&quot;)
    private String[] stringArrayWithDefaults;

    @Value(&quot;${some.key:1,2,3}&quot;)
    private int[] intArrayWithDefaults;

1.5 使用 Spring Expression Language (SpEL) 设置默认值

    @Value(&quot;#{systemProperties[&apos;some.key&apos;] ?: &apos;my default system property value&apos;}&quot;)
    private String spelWithDefaultValue;

    这表示：在systemProperties属性文件中，如果没有设置 some.key 的值，my default system property value 会被设置成默认值。
</code></pre><h3 id="Spring中HttpServletRequest的线程安全性"><a href="#Spring中HttpServletRequest的线程安全性" class="headerlink" title="Spring中HttpServletRequest的线程安全性"></a>Spring中HttpServletRequest的线程安全性</h3><p><a href="https://www.cnblogs.com/kismetv/p/8757260.html" target="_blank" rel="external">Spring中获取request的几种方法，及其线程安全性分析</a></p>
<h3 id="SpringBoot-类加载机制"><a href="#SpringBoot-类加载机制" class="headerlink" title="SpringBoot 类加载机制"></a>SpringBoot 类加载机制</h3><p><a href="https://segmentfault.com/a/1190000013532009" target="_blank" rel="external">springboot应用启动原理(二) 扩展URLClassLoader实现嵌套jar加载</a></p>
<p><a href="https://blog.csdn.net/caoyi1207/article/details/80606232" target="_blank" rel="external">Spring Boot ClassLoader</a></p>
<h3 id="Spring-Bean生命周期"><a href="#Spring-Bean生命周期" class="headerlink" title="Spring Bean生命周期"></a>Spring Bean生命周期</h3><blockquote>
<p>一个对象具备完整的Spring生命周期才可以称之为一个Spring的bean，否则就只是个Java对象</p>
</blockquote>
<p>参考文章：</p>
<p><a href="https://www.cnblogs.com/zrtqsk/p/3735273.html" target="_blank" rel="external">Spring Bean的生命周期（非常详细）</a></p>
<p><a href="http://c.biancheng.net/view/4261.html" target="_blank" rel="external">Spring Bean的生命周期</a></p>
<p><a href="https://www.cnblogs.com/jasonboren/p/10660937.html" target="_blank" rel="external">spring Bean的完整生命周期</a></p>
<p><a href="https://www.w3cschool.cn/wkspring/xypt1icg.html" target="_blank" rel="external">w3cschool—Spring Bean 生命周期</a></p>
<p><a href="https://www.sohu.com/a/166804449_714863" target="_blank" rel="external">Spring钩子方法和钩子接口的使用详解</a></p>
<p><a href="https://www.cnblogs.com/CodeBear/p/10336704.html" target="_blank" rel="external">剑指Spring源码（一）</a></p>
<p><a href="https://www.cnblogs.com/CodeBear/p/10374261.html" target="_blank" rel="external">剑指Spring源码（二）</a></p>
<p><a href="https://www.cnblogs.com/CodeBear/p/10867707.html" target="_blank" rel="external">剑指Spring源码（三）俯瞰Spring的Bean的生命周期（大众版）</a></p>
<p><a href="https://www.cnblogs.com/sishang/p/6575839.html" target="_blank" rel="external">Spring点滴四：Spring Bean生命周期</a></p>
<p><a href="https://www.cnblogs.com/dreampig/p/9036077.html" target="_blank" rel="external">Spring的BeanPostProcessor和BeanFactoryPostProcessor区别</a></p>
<p><a href="https://www.jianshu.com/p/fb39f568cd5e" target="_blank" rel="external">BeanPostProcessor和BeanFactoryProcessor浅析</a></p>
<h3 id="Spring强化"><a href="#Spring强化" class="headerlink" title="Spring强化"></a>Spring强化</h3><p><a href="https://zhuanlan.zhihu.com/p/41961670" target="_blank" rel="external">那些年，我们一起追的Spring</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/38208324" target="_blank" rel="external">BeanPostProcessor —— 连接Spring IOC和AOP的桥梁</a></p>
<h2 id="Jersey相关"><a href="#Jersey相关" class="headerlink" title="Jersey相关"></a>Jersey相关</h2><blockquote>
<p>这里记录Jersey相关的内容</p>
</blockquote>
<h3 id="Jersey常用方法"><a href="#Jersey常用方法" class="headerlink" title="Jersey常用方法"></a>Jersey常用方法</h3><p><a href="https://blog.csdn.net/itchiang/article/details/50582979" target="_blank" rel="external">jersey获取各个参数的总结</a></p>
<h3 id="查看Jersey-REST服务的WADL服务定义"><a href="#查看Jersey-REST服务的WADL服务定义" class="headerlink" title="查看Jersey REST服务的WADL服务定义"></a>查看Jersey REST服务的WADL服务定义</h3><p>查看WADL服务定义通过下方URL即可访问到。</p>
<pre><code>http://ip:port/应用根路径/application.wadl
</code></pre><h2 id="Json解析相关"><a href="#Json解析相关" class="headerlink" title="Json解析相关"></a>Json解析相关</h2><blockquote>
<p>这里主要解析Json解析相关的技术点。</p>
</blockquote>
<h3 id="Jackson整理"><a href="#Jackson整理" class="headerlink" title="Jackson整理"></a>Jackson整理</h3><ol>
<li><p>在Jackson中将JsonNode转换为Object</p>
<p>mapper.convertValue(jsonNode, MyPojo.class)</p>
</li>
<li><p>Jackson中的TypeReference</p>
<p> 一般情况下如果没有TypeReference的话，JsonNode转换过来的是LinkedHashMap而不是对象本身，因此<br> 需要使用TypeReference来进行Json的解析</p>
<p> 如：</p>
<pre><code>List&lt;TableColumns&gt; columns = mapper.convertValue(params.get(&quot;columns&quot;), new TypeReference&lt;List&lt;TableColumns&gt;&gt;() {});

对于复杂Json的转换，需要通过TypeReference解析，TypeReference可以正确反序列化嵌套多层的List或Map，例如List&lt;Map&lt;String,String&gt;&gt;
</code></pre><p> 举个实际的例子，</p>
<pre><code>Map&lt;String, MarkDetail&gt; markDetailMap = objectMapper.convertValue(haveMarkDetails, new TypeReference&lt;Map&lt;String,MarkDetail&gt;&gt;() {});

Map&lt;String, String&gt; dataDetailMap = objectMapper.convertValue(dataDetailJsonNode, new TypeReference&lt;Map&lt;String, String&gt;&gt;() {});
</code></pre><p> 可以看到，convertValue的第二个参数是一个TypeReference实例。通过这种方式能够将复杂json类型进行正确解析。</p>
</li>
</ol>
<h2 id="ffmpeg"><a href="#ffmpeg" class="headerlink" title="ffmpeg"></a>ffmpeg</h2><p>ffmpeg的几个工具基本用法</p>
<blockquote>
<p>ffmpeg是用于转码的应用程序。</p>
</blockquote>
<p>一个简单的转码命令可以这样写：</p>
<pre><code>将input.avi转码成output.ts，并设置视频的码率为640kbps

ffmpeg -i videoplayback.mp4 -b:v 640k output.ts
</code></pre><blockquote>
<p>用于播放的应用程序。</p>
</blockquote>
<pre><code>一个简单的播放命令可以这样写：

播放test.avi

ffplay test.avi
</code></pre><blockquote>
<p>ffprobe是用于查看文件格式的应用程序。</p>
</blockquote>
<p>这个就不多介绍了。</p>
<pre><code>ffprobe videoplayback.mp4
</code></pre><h2 id="维护多个sshkey"><a href="#维护多个sshkey" class="headerlink" title="维护多个sshkey"></a>维护多个sshkey</h2><blockquote>
<p>在公司与开源社区之间切换，有多个git账户，因此需要一个策略用于维护多个sshkey</p>
</blockquote>
<p>由于有两个账号，生成密钥时通常都是三个回车一撸到底，那么后执行的会覆盖先执行的。</p>
<p>三个回车中，第一个回车的意思是保存地址，那我们不直接回车，而是输入保存地址就可以。</p>
<h3 id="具体步骤"><a href="#具体步骤" class="headerlink" title="具体步骤"></a>具体步骤</h3><ol>
<li><p>生成第一个密钥</p>
<pre><code>ssh-keygen -t rsa -C &quot;myoschina@qq.com&quot;
</code></pre></li>
</ol>
<p>连续三个回车，将oschina的密钥默认保存</p>
<ol>
<li>生成第二个密钥</li>
</ol>
<p>在C盘/Users/用户名/.ssh下建立一个新的目录，如：github</p>
<p>接着运行命令生成第二个sshkey</p>
<pre><code>ssh-keygen -t rsa -C &quot;github@gmail.com&quot;
</code></pre><p>出现Enter file in which to save the key时输入</p>
<pre><code>/c/Users/用户名/.ssh/github/id_rsa
</code></pre><p>表示将本次生成的key保存在建立的github目录下</p>
<ol>
<li>创建config文件</li>
</ol>
<p>C盘/Users/用户名/.ssh下新建config文件，该文件没有后缀名的，用途是配置映射功能，填入下面代码：</p>
<pre><code>#github配置
Host github.com
    HostName github.com
    IdentityFile c:\\Users\\xxxxx\\github\\.ssh\\id_rsa
    PreferredAuthentications publickey
    User usernameOfGithub

#gitoschina的配置
Host git.oschina.net
    HostName git.oschina.net
    IdentityFile c:\\Users\\xxxxx\\.ssh\\id_rsa
    PreferredAuthentications publickey
    User usernameOfOsChina
</code></pre><blockquote>
<p>HostName是服务器域名，IdentityFile 是密钥的地址.</p>
</blockquote>
<h2 id="vim临时显示行号"><a href="#vim临时显示行号" class="headerlink" title="vim临时显示行号"></a>vim临时显示行号</h2><p>如果只是临时显示vim的行号，只须按ESC键退出编辑内容模式，输入</p>
<pre><code>：set number  后按回车键显示行号
</code></pre><p>行号显示只是暂时的，退出vim后再次打开vim就不显示行号了。</p>
<h2 id="python相关"><a href="#python相关" class="headerlink" title="python相关"></a>python相关</h2><blockquote>
<p>此模块主要整理python相关内容</p>
</blockquote>
<h3 id="1-init-py的作用"><a href="#1-init-py的作用" class="headerlink" title="1. init.py的作用"></a>1. <strong>init</strong>.py的作用</h3><pre><code>1、__init__.py是Python中package的标识

__init__.py 文件的一个主要作用是将文件夹变为一个Python模块，
Python 中的每个模块的包中，都有__init__.py 文件

2、批量引入（定义__all__用来模糊导入）

我们在python中导入一个包时，实际上是导入了它的__init__.py文件，
这样我们可以在__init__.py文件中批量导入我们所需要的模块，而不再需要一个一个的导入。

3、配置模块的初始化操作，这个文件也是一个正常的python代码文件，因此可以将初始化代码放入该文件中。
</code></pre><blockquote>
<p>python中<strong>init</strong>.py文件的作用实例：</p>
</blockquote>
<pre><code>python的每个模块的包中，都有一个__init__.py文件，有了这个文件，
我们才能导入这个目录下的module。

__init__.py里面还是可以有内容的，我们在导入一个包时，
实际上导入了它的__init__.py文件。我们可以再__init__.py文件中再导入其他的包，或者模块。

这样，当我们导入这个包的时候，__init__.py文件自动运行。
帮我们导入了这么多个模块，我们就不需要将所有的import语句写在一个文件里了，
也可以减少代码量。不需要一个个去导入module了。
</code></pre><p><hr><br>版权声明：<br><br>原创不易，洗文可耻。除非注明，本博文章均为原创，转载请以链接形式标明本文地址。<br></p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Java/">Java</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Java/">Java</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://wuwenliang.net/2019/12/02/我的编码备忘录/" data-title="我的编码备忘录 | 朝·闻·道" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2019/12/03/SpringBoot动态定时任务开发指南/" title="SpringBoot动态定时任务开发指南">
  <strong>上一篇：</strong><br/>
  <span>
  SpringBoot动态定时任务开发指南</span>
</a>
</div>


<div class="next">
<a href="/2019/11/19/Spring-Boot整合Jersey开发RESTful服务/"  title="Spring Boot整合Jersey开发RESTful服务">
 <strong>下一篇：</strong><br/> 
 <span>Spring Boot整合Jersey开发RESTful服务
</span>
</a>
</div>

</nav>

	
<section id="comments" class="comment">
	<div class="ds-thread" data-thread-key="2019/12/02/我的编码备忘录/" data-title="我的编码备忘录" data-url="http://wuwenliang.net/2019/12/02/我的编码备忘录/"></div>
</section>




</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#问题排查"><span class="toc-number">1.</span> <span class="toc-text">问题排查</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CPU异常飙高排查思路"><span class="toc-number">1.1.</span> <span class="toc-text">CPU异常飙高排查思路</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaCore相关"><span class="toc-number">2.</span> <span class="toc-text">JavaCore相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#bigdecimal四舍五入"><span class="toc-number">2.1.</span> <span class="toc-text">bigdecimal四舍五入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bigDecimal转换为百分比，保留若干小数"><span class="toc-number">2.2.</span> <span class="toc-text">bigDecimal转换为百分比，保留若干小数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bigDecimal精确度"><span class="toc-number">2.3.</span> <span class="toc-text">bigDecimal精确度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bigDecimal除法"><span class="toc-number">2.4.</span> <span class="toc-text">bigDecimal除法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bigdecimal详解"><span class="toc-number">2.5.</span> <span class="toc-text">bigdecimal详解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#java8的optionnal"><span class="toc-number">2.6.</span> <span class="toc-text">java8的optionnal</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#并发框架"><span class="toc-number">3.</span> <span class="toc-text">并发框架</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#集合框架"><span class="toc-number">4.</span> <span class="toc-text">集合框架</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#如何对一个list进行subList操作"><span class="toc-number">4.1.</span> <span class="toc-text">如何对一个list进行subList操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#集合如何进行排序操作？（如：如何对一个list中的元素进行排序）"><span class="toc-number">4.2.</span> <span class="toc-text">集合如何进行排序操作？（如：如何对一个list中的元素进行排序）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据库相关-包含Dao相关组件"><span class="toc-number">5.</span> <span class="toc-text">数据库相关(包含Dao相关组件)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#mybatis-update自动追加逗号-“-”"><span class="toc-number">5.1.</span> <span class="toc-text">mybatis update自动追加逗号 “,”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mybatis使用truncate语句"><span class="toc-number">5.2.</span> <span class="toc-text">mybatis使用truncate语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mybatis使用-Param传参以及批量插入"><span class="toc-number">5.3.</span> <span class="toc-text">mybatis使用@Param传参以及批量插入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL建表时设置timestamp精度到毫秒"><span class="toc-number">5.4.</span> <span class="toc-text">MySQL建表时设置timestamp精度到毫秒</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mybatis批量插入"><span class="toc-number">5.5.</span> <span class="toc-text">mybatis批量插入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL的case-when语法"><span class="toc-number">5.6.</span> <span class="toc-text">MySQL的case when语法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#前端相关"><span class="toc-number">6.</span> <span class="toc-text">前端相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#vue页面间传参"><span class="toc-number">6.1.</span> <span class="toc-text">vue页面间传参</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue-element获取一行数据"><span class="toc-number">6.2.</span> <span class="toc-text">vue element获取一行数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue-element视频播放组件"><span class="toc-number">6.3.</span> <span class="toc-text">vue element视频播放组件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#工具技巧"><span class="toc-number">7.</span> <span class="toc-text">工具技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#跨主机进行文件复制"><span class="toc-number">7.1.</span> <span class="toc-text">跨主机进行文件复制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#idea自动导包"><span class="toc-number">7.2.</span> <span class="toc-text">idea自动导包</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#打包运行相关"><span class="toc-number">8.</span> <span class="toc-text">打包运行相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#如何通过命令行传递带空格的参数"><span class="toc-number">8.1.</span> <span class="toc-text">如何通过命令行传递带空格的参数?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux下找出进程正在侦听的端口号"><span class="toc-number">8.2.</span> <span class="toc-text">Linux下找出进程正在侦听的端口号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nohup的作用"><span class="toc-number">8.3.</span> <span class="toc-text">nohup的作用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-相关"><span class="toc-number">9.</span> <span class="toc-text">git 相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#git更新带子module的工程"><span class="toc-number">9.1.</span> <span class="toc-text">git更新带子module的工程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git更新子工程终极方案"><span class="toc-number">9.2.</span> <span class="toc-text">git更新子工程终极方案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git-强制使用远程覆盖本地"><span class="toc-number">9.3.</span> <span class="toc-text">git 强制使用远程覆盖本地</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git去除某个历史提交"><span class="toc-number">9.4.</span> <span class="toc-text">git去除某个历史提交</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#方法2–递归方式"><span class="toc-number">10.</span> <span class="toc-text">方法2–递归方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring相关"><span class="toc-number">11.</span> <span class="toc-text">Spring相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring中通过-Value-设置默认值"><span class="toc-number">11.1.</span> <span class="toc-text">Spring中通过 @Value 设置默认值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring中HttpServletRequest的线程安全性"><span class="toc-number">11.2.</span> <span class="toc-text">Spring中HttpServletRequest的线程安全性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SpringBoot-类加载机制"><span class="toc-number">11.3.</span> <span class="toc-text">SpringBoot 类加载机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-Bean生命周期"><span class="toc-number">11.4.</span> <span class="toc-text">Spring Bean生命周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring强化"><span class="toc-number">11.5.</span> <span class="toc-text">Spring强化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Jersey相关"><span class="toc-number">12.</span> <span class="toc-text">Jersey相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Jersey常用方法"><span class="toc-number">12.1.</span> <span class="toc-text">Jersey常用方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查看Jersey-REST服务的WADL服务定义"><span class="toc-number">12.2.</span> <span class="toc-text">查看Jersey REST服务的WADL服务定义</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Json解析相关"><span class="toc-number">13.</span> <span class="toc-text">Json解析相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Jackson整理"><span class="toc-number">13.1.</span> <span class="toc-text">Jackson整理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ffmpeg"><span class="toc-number">14.</span> <span class="toc-text">ffmpeg</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#维护多个sshkey"><span class="toc-number">15.</span> <span class="toc-text">维护多个sshkey</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#具体步骤"><span class="toc-number">15.1.</span> <span class="toc-text">具体步骤</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vim临时显示行号"><span class="toc-number">16.</span> <span class="toc-text">vim临时显示行号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#python相关"><span class="toc-number">17.</span> <span class="toc-text">python相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-init-py的作用"><span class="toc-number">17.1.</span> <span class="toc-text">1. init.py的作用</span></a></li></ol></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/CouchDB/" title="CouchDB">CouchDB<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/DDD/" title="DDD">DDD<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/Dubbo/" title="Dubbo">Dubbo<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/ELK-Stack/" title="ELK-Stack">ELK-Stack<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/HTTPS/" title="HTTPS">HTTPS<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Hexo/" title="Hexo">Hexo<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/JDK-concurrent/" title="JDK-concurrent">JDK-concurrent<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/JDK源码解析/" title="JDK源码解析">JDK源码解析<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/Java/" title="Java">Java<sup>37</sup></a></li>
		  
		
		  
			<li><a href="/categories/KindEditor/" title="KindEditor">KindEditor<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Linux/" title="Linux">Linux<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/MIT/" title="MIT">MIT<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Redis/" title="Redis">Redis<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/SSO/" title="SSO">SSO<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Sharding-JDBC/" title="Sharding-JDBC">Sharding-JDBC<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/SpringCloud/" title="SpringCloud">SpringCloud<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Spring扩展点/" title="Spring扩展点">Spring扩展点<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/TCC-Transaction源码解析/" title="TCC-Transaction源码解析">TCC-Transaction源码解析<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Tomcat/" title="Tomcat">Tomcat<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/auth/" title="auth">auth<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/disruptor/" title="disruptor">disruptor<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/docker/" title="docker">docker<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/gRPC/" title="gRPC">gRPC<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/hexo/" title="hexo">hexo<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/kubernates/" title="kubernates">kubernates<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/maven/" title="maven">maven<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/mybatis/" title="mybatis">mybatis<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/mysql/" title="mysql">mysql<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/nginx/" title="nginx">nginx<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/nginx-负载均衡/" title="nginx, 负载均衡">nginx, 负载均衡<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/spring-boot/" title="spring-boot">spring-boot<sup>38</sup></a></li>
		  
		
		  
			<li><a href="/categories/springboot/" title="springboot">springboot<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/web/" title="web">web<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/与你同行/" title="与你同行">与你同行<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/专题-分布式/" title="专题-分布式">专题-分布式<sup>20</sup></a></li>
		  
		
		  
			<li><a href="/categories/从零学Netty/" title="从零学Netty">从零学Netty<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/代理模式-工作总结-入职感受/" title="代理模式,工作总结,入职感受">代理模式,工作总结,入职感受<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/分布式-Dubbo/" title="分布式 Dubbo">分布式 Dubbo<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/单例模式/" title="单例模式">单例模式<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/实战分布式/" title="实战分布式">实战分布式<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/年度总结/" title="年度总结">年度总结<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/数据库/" title="数据库">数据库<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/架构/" title="架构">架构<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/汇总盘点推荐/" title="汇总盘点推荐">汇总盘点推荐<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/爬虫/" title="爬虫">爬虫<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/电话面试/" title="电话面试">电话面试<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/研磨Kafka/" title="研磨Kafka">研磨Kafka<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/自己写分布式组件系列/" title="自己写分布式组件系列">自己写分布式组件系列<sup>17</sup></a></li>
		  
		
		  
			<li><a href="/categories/跟我学RocketMQ/" title="跟我学RocketMQ">跟我学RocketMQ<sup>25</sup></a></li>
		  
		
		  
			<li><a href="/categories/跟我学zookeeper/" title="跟我学zookeeper">跟我学zookeeper<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/金融系统/" title="金融系统">金融系统<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/随笔/" title="随笔">随笔<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/音视频/" title="音视频">音视频<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
  <div class="tagcloudlist">
    <p class="asidetitle">标签云</p>
    <div class="tagcloudlist clearfix">
       <a href="/tags/CouchDB/" style="font-size: 10px;">CouchDB</a> <a href="/tags/DDD/" style="font-size: 14.55px;">DDD</a> <a href="/tags/Dubbo/" style="font-size: 12.73px;">Dubbo</a> <a href="/tags/ELK-Stack/" style="font-size: 15.45px;">ELK-Stack</a> <a href="/tags/HTTPS/" style="font-size: 10px;">HTTPS</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/JDK-concurrent/" style="font-size: 12.73px;">JDK-concurrent</a> <a href="/tags/JDK源码解析/" style="font-size: 12.73px;">JDK源码解析</a> <a href="/tags/Java/" style="font-size: 19.09px;">Java</a> <a href="/tags/KindEditor/" style="font-size: 10px;">KindEditor</a> <a href="/tags/Linux/" style="font-size: 10.91px;">Linux</a> <a href="/tags/MIT/" style="font-size: 10px;">MIT</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/tags/SSO-单点登录/" style="font-size: 10px;">SSO,单点登录</a> <a href="/tags/Sharding-JDBC/" style="font-size: 12.73px;">Sharding-JDBC</a> <a href="/tags/SpringCloud/" style="font-size: 10px;">SpringCloud</a> <a href="/tags/Spring扩展点/" style="font-size: 10px;">Spring扩展点</a> <a href="/tags/TCC-Transaction源码解析/" style="font-size: 10.91px;">TCC-Transaction源码解析</a> <a href="/tags/Tomcat/" style="font-size: 10.91px;">Tomcat</a> <a href="/tags/auth/" style="font-size: 10.91px;">auth</a> <a href="/tags/disruptor/" style="font-size: 14.55px;">disruptor</a> <a href="/tags/docker/" style="font-size: 11.82px;">docker</a> <a href="/tags/gRPC/" style="font-size: 11.82px;">gRPC</a> <a href="/tags/hexo/" style="font-size: 10.91px;">hexo</a> <a href="/tags/kubernates/" style="font-size: 10px;">kubernates</a> <a href="/tags/maven/" style="font-size: 11.82px;">maven</a> <a href="/tags/mybatis/" style="font-size: 10.91px;">mybatis</a> <a href="/tags/mysql/" style="font-size: 13.64px;">mysql</a> <a href="/tags/nginx/" style="font-size: 10.91px;">nginx</a> <a href="/tags/spring-boot/" style="font-size: 20px;">spring-boot</a> <a href="/tags/springboot/" style="font-size: 10px;">springboot</a> <a href="/tags/web/" style="font-size: 12.73px;">web</a> <a href="/tags/与你同行/" style="font-size: 10px;">与你同行</a> <a href="/tags/专题-分布式/" style="font-size: 17.27px;">专题-分布式</a> <a href="/tags/从零学Netty/" style="font-size: 10.91px;">从零学Netty</a> <a href="/tags/代理模式-工作总结-入职感受/" style="font-size: 10px;">代理模式,工作总结,入职感受</a> <a href="/tags/分布式-Dubbo/" style="font-size: 12.73px;">分布式 Dubbo</a> <a href="/tags/单例模式-懒加载/" style="font-size: 10px;">单例模式, 懒加载</a> <a href="/tags/实战分布式/" style="font-size: 11.82px;">实战分布式</a> <a href="/tags/年度总结/" style="font-size: 14.55px;">年度总结</a> <a href="/tags/我们的爱情/" style="font-size: 10px;">我们的爱情</a> <a href="/tags/数据库/" style="font-size: 10px;">数据库</a> <a href="/tags/汇总盘点推荐/" style="font-size: 10px;">汇总盘点推荐</a> <a href="/tags/爬虫-WebMagic/" style="font-size: 10px;">爬虫,WebMagic</a> <a href="/tags/电话面试/" style="font-size: 10px;">电话面试</a> <a href="/tags/研磨Kafka/" style="font-size: 14.55px;">研磨Kafka</a> <a href="/tags/秒杀/" style="font-size: 10px;">秒杀</a> <a href="/tags/自己写分布式组件系列/" style="font-size: 16.36px;">自己写分布式组件系列</a> <a href="/tags/跟我学RocketMQ/" style="font-size: 18.18px;">跟我学RocketMQ</a> <a href="/tags/跟我学zookeeper/" style="font-size: 10px;">跟我学zookeeper</a> <a href="/tags/金融系统/" style="font-size: 11.82px;">金融系统</a> <a href="/tags/随笔/" style="font-size: 15.45px;">随笔</a> <a href="/tags/音视频/" style="font-size: 10px;">音视频</a>
    </div>
  </div>


  
<div class="github-card">
<p class="asidetitle">Github 名片</p>
<div class="github-card" data-github="TaXueWWL" data-width="220" data-height="119" data-theme="medium">
<script type="text/javascript" src="//cdn.jsdelivr.net/github-cards/latest/widget.js" ></script>
</div>
  </div>



  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/spring-boot/" title="spring-boot">spring-boot<sup>38</sup></a></li>
			
		
			
				<li><a href="/tags/Java/" title="Java">Java<sup>37</sup></a></li>
			
		
			
				<li><a href="/tags/跟我学RocketMQ/" title="跟我学RocketMQ">跟我学RocketMQ<sup>25</sup></a></li>
			
		
			
				<li><a href="/tags/专题-分布式/" title="专题-分布式">专题-分布式<sup>20</sup></a></li>
			
		
			
				<li><a href="/tags/自己写分布式组件系列/" title="自己写分布式组件系列">自己写分布式组件系列<sup>17</sup></a></li>
			
		
			
				<li><a href="/tags/ELK-Stack/" title="ELK-Stack">ELK-Stack<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/随笔/" title="随笔">随笔<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/DDD/" title="DDD">DDD<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/disruptor/" title="disruptor">disruptor<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/年度总结/" title="年度总结">年度总结<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/研磨Kafka/" title="研磨Kafka">研磨Kafka<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/mysql/" title="mysql">mysql<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Dubbo/" title="Dubbo">Dubbo<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/web/" title="web">web<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/JDK源码解析/" title="JDK源码解析">JDK源码解析<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/JDK-concurrent/" title="JDK-concurrent">JDK-concurrent<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/分布式-Dubbo/" title="分布式 Dubbo">分布式 Dubbo<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Sharding-JDBC/" title="Sharding-JDBC">Sharding-JDBC<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/gRPC/" title="gRPC">gRPC<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/maven/" title="maven">maven<sup>3</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="undefined" target="_blank" title="rss">RSS 订阅</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=null&verifier=b3593ceb&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p>  <br/>
			惟精惟一，允执厥中 朝闻道，夕死可矣</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/TaXueWWL" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		
		<a href="http://www.zhihu.com/people/TaXueWWL" target="_blank" class="icon-zhihu" title="知乎"></a>
		
		
		
		<a href="mailto:wuwenliangsn@gmail.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2022 
		
		<a href="/about" target="_blank" title="SnoWalker">SnoWalker</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>



<script type="text/javascript">
  var duoshuoQuery = {short_name:"snowalker"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>

<a href="https://github.com/TaXueWWL" target="_blank"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_left_white_ffffff.png" alt="Fork me on GitHub"></a>